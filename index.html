<!DOCTYPE html>
<html>
<head>
    <title>YouTube Player</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background-color: #000; }
        iframe { width: 100%; height: 100%; border: 0; }
    </style>
</head>
<body>

    <!-- YouTube pleyeri uchun iframe. Manzilni JavaScript orqali to'ldiramiz. -->
    <iframe id="youtube-player" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            allowfullscreen>
    </iframe>

    <script>
        // Playlistlar ro'yxati
        const playlists = [
            'PL6AUY3Gdc-I7EXBZFXjcfY261DWL9kCVA',
            'PLJRBTP0aDyuNSxXhi9iBmizo6xkH7HTHa'
        ];
        
        // Tasodifiy playlist tanlash
        const randomPlaylistId = playlists[Math.floor(Math.random() * playlists.length)];

        // YouTube pleyerining to'liq manzilini (URL) yaratish
        const playerUrl = new URL('https://www.youtube.com/embed');
        playerUrl.searchParams.set('listType', 'playlist');
        playerUrl.searchParams.set('list', randomPlaylistId);
        playerUrl.searchParams.set('autoplay', '1');      // Avtomatik ijro
        playerUrl.searchParams.set('mute', '1');          // Ovozsiz
        playerUrl.searchParams.set('loop', '1');          // Takrorlash
        playerUrl.searchParams.set('playsinline', '1');   // <<<--- MUHIM QO'SHIMCHA: Sahifa ichida ijro etish
        playerUrl.searchParams.set('shuffle', '1');       // Aralashtirish (bu parametr ba'zida ishlamaydi, lekin har ehtimolga qarshi)
        
        // Bizning Web App manzilimiz (origin)
        // Bu yerga o'zingizning GitHub Pages manzilingizni to'g'ri kiriting
        // Masalan: 'https://arpc.github.io'
        const origin = 'https://your-username.github.io';
        playerUrl.searchParams.set('origin', origin);
        
        // Iframe'ning 'src' atributiga yaratilgan manzilni o'rnatish
        document.getElementById('youtube-player').src = playerUrl.toString();
        
    </script>

</body>
</html>
